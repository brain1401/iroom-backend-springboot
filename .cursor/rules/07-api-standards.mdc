---
description: REST API ì„¤ê³„ ë° ì‘ë‹µ í‘œì¤€í™” ê·œì¹™
globs: **/controller/*.java, **/common/ApiResponse.java, **/dto/*Response.java, **/dto/*Request.java
alwaysApply: false
---

# API ì„¤ê³„ ë° ì‘ë‹µ í‘œì¤€í™”

## ğŸ¯ API ì„¤ê³„ ì›ì¹™

### RESTful API ì„¤ê³„
- **ë¦¬ì†ŒìŠ¤ ì¤‘ì‹¬** URL ì„¤ê³„
- **HTTP ë©”ì„œë“œ** ì˜ë¯¸ì— ë§ëŠ” ì‚¬ìš©
- **ì¼ê´€ëœ ì‘ë‹µ í˜•ì‹** (ApiResponse ë˜í¼)
- **ì ì ˆí•œ ìƒíƒœ ì½”ë“œ** ì‚¬ìš©

### API ë¬¸ì„œí™”
- **OpenAPI 3.0** (SpringDoc) í™œìš©
- **@Tag**, **@Operation** ìƒì„¸ ì‘ì„±
- **@Schema** ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ DTO ë¬¸ì„œí™”

## ğŸ“‹ í‘œì¤€ ì‘ë‹µ í˜•ì‹ (ApiResponse)

### âœ… ê¸°ë³¸ ApiResponse êµ¬ì¡°
```java
/**
 * API í‘œì¤€ ì‘ë‹µ ë˜í¼
 */
public record ApiResponse<T>(
    @Schema(description = "ì²˜ë¦¬ ê²°ê³¼", example = "SUCCESS") 
    String result,
    
    @Schema(description = "ì‘ë‹µ ë©”ì‹œì§€", example = "ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤") 
    String message,
    
    @Schema(description = "ì‘ë‹µ ë°ì´í„°") 
    T data
) {
    public ApiResponse {
        // ë¶ˆë³€ì„±: result, messageëŠ” nullì´ ë  ìˆ˜ ì—†ìŒ
        if (result == null || result.isBlank()) 
            throw new IllegalArgumentException("resultëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤");
        if (message == null) 
            throw new IllegalArgumentException("messageëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤");
    }
    
    /**
     * ì„±ê³µ ì‘ë‹µ ìƒì„± (ë°ì´í„° í¬í•¨)
     */
    public static <T> ApiResponse<T> success(String message, T data) {
        return new ApiResponse<>("SUCCESS", message, data);
    }
    
    /**
     * ì„±ê³µ ì‘ë‹µ ìƒì„± (ë°ì´í„° ì—†ìŒ)
     */
    public static ApiResponse<Void> success(String message) {
        return new ApiResponse<>("SUCCESS", message, null);
    }
    
    /**
     * ì˜¤ë¥˜ ì‘ë‹µ ìƒì„±
     */
    public static ApiResponse<Void> error(String message) {
        return new ApiResponse<>("ERROR", message, null);
    }
}
```

### âœ… Controllerì—ì„œ ApiResponse í™œìš©
```java
/**
 * ì‚¬ìš©ì ê´€ë¦¬ ì»¨íŠ¸ë¡¤ëŸ¬
 */
@RestController
@RequestMapping("/api/users")
@RequiredArgsConstructor
@Tag(name = "ì‚¬ìš©ì API", description = "í•™ìƒ ë¡œê·¸ì¸ ë° ì •ë³´ ê´€ë¦¬ API")
@Validated
public class UserController {
    
    private final UserService userService;
    
    /**
     * ì‚¬ìš©ì ë¡œê·¸ì¸
     */
    @PostMapping("/login")
    @Operation(
        summary = "ì‚¬ìš©ì ë¡œê·¸ì¸",
        description = "í•™ìƒì´ ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•©ë‹ˆë‹¤",
        responses = {
            @ApiResponse(responseCode = "200", description = "ë¡œê·¸ì¸ ì„±ê³µ"),
            @ApiResponse(responseCode = "400", description = "ì…ë ¥ ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨"),
            @ApiResponse(responseCode = "404", description = "ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ì")
        }
    )
    public ApiResponse<UserLoginResponse> login(
            @Parameter(description = "ë¡œê·¸ì¸ ìš”ì²­ ì •ë³´") 
            @Valid @RequestBody UserLoginRequest request) {
        
        UserLoginResponse response = userService.login(request);
        return ApiResponse.success("ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤", response);
    }
    
    /**
     * ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
     */
    @GetMapping("/{id}")
    @Operation(summary = "ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ", description = "ì‚¬ìš©ì IDë¡œ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤")
    public ApiResponse<UserDto> getUser(
            @Parameter(description = "ì‚¬ìš©ì ID", example = "1") 
            @PathVariable Long id) {
        
        UserDto user = userService.findById(id);
        return ApiResponse.success("ì‚¬ìš©ì ì •ë³´ë¥¼ ì¡°íšŒí–ˆìŠµë‹ˆë‹¤", user);
    }
    
    /**
     * ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ (í˜ì´ì§•)
     */
    @GetMapping
    @Operation(summary = "ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ", description = "í˜ì´ì§•ì„ ì§€ì›í•˜ëŠ” ì‚¬ìš©ì ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤")
    public ApiResponse<Page<UserDto>> getUsers(
            @Parameter(description = "í˜ì´ì§€ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘)", example = "0")
            @RequestParam(defaultValue = "0") int page,
            
            @Parameter(description = "í˜ì´ì§€ í¬ê¸°", example = "20")
            @RequestParam(defaultValue = "20") int size,
            
            @Parameter(description = "ì •ë ¬ ê¸°ì¤€", example = "name")
            @RequestParam(defaultValue = "id") String sort,
            
            @Parameter(description = "ì •ë ¬ ë°©í–¥", example = "asc")
            @RequestParam(defaultValue = "asc") String direction) {
        
        Sort sortOrder = Sort.by(Sort.Direction.fromString(direction), sort);
        Pageable pageable = PageRequest.of(page, size, sortOrder);
        
        Page<UserDto> users = userService.findAll(pageable);
        return ApiResponse.success("ì‚¬ìš©ì ëª©ë¡ì„ ì¡°íšŒí–ˆìŠµë‹ˆë‹¤", users);
    }
}
```

## ğŸ”¢ HTTP ìƒíƒœ ì½”ë“œ í™œìš©

### ì„±ê³µ ìƒíƒœ ì½”ë“œ
| ì½”ë“œ               | ì„¤ëª…            | ì‚¬ìš© ì‹œì             | ì˜ˆì‹œ              |
| ------------------ | --------------- | -------------------- | ----------------- |
| **200 OK**         | ìš”ì²­ ì„±ê³µ       | GET, PUT, PATCH ì„±ê³µ | ì¡°íšŒ, ìˆ˜ì • ì™„ë£Œ   |
| **201 Created**    | ìƒì„± ì„±ê³µ       | POST ì„±ê³µ            | ì‚¬ìš©ì, ì‹œí—˜ ìƒì„± |
| **204 No Content** | ì„±ê³µ, ì‘ë‹µ ì—†ìŒ | DELETE ì„±ê³µ          | ì‚­ì œ ì™„ë£Œ         |

### âœ… ìƒíƒœ ì½”ë“œ ì ìš© ì˜ˆì‹œ
```java
@RestController
@RequestMapping("/api/exams")
@RequiredArgsConstructor
@Tag(name = "ì‹œí—˜ ê´€ë¦¬ API")
public class ExamController {
    
    private final ExamService examService;
    
    /**
     * ì‹œí—˜ ìƒì„± - 201 Created
     */
    @PostMapping
    @ResponseStatus(HttpStatus.CREATED)
    @Operation(summary = "ì‹œí—˜ ìƒì„±", description = "ìƒˆë¡œìš´ ì‹œí—˜ì„ ë“±ë¡í•©ë‹ˆë‹¤")
    public ApiResponse<ExamCreateResponse> createExam(
            @Valid @RequestBody ExamCreateRequest request) {
        
        ExamCreateResponse exam = examService.createExam(request);
        return ApiResponse.success("ì‹œí—˜ì´ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤", exam);
    }
    
    /**
     * ì‹œí—˜ ì¡°íšŒ - 200 OK
     */
    @GetMapping("/{id}")
    @Operation(summary = "ì‹œí—˜ ìƒì„¸ ì¡°íšŒ")
    public ApiResponse<ExamDetailResponse> getExam(@PathVariable Long id) {
        ExamDetailResponse exam = examService.getExamDetail(id);
        return ApiResponse.success("ì‹œí—˜ ì •ë³´ë¥¼ ì¡°íšŒí–ˆìŠµë‹ˆë‹¤", exam);
    }
    
    /**
     * ì‹œí—˜ ìˆ˜ì • - 200 OK
     */
    @PutMapping("/{id}")
    @Operation(summary = "ì‹œí—˜ ì •ë³´ ìˆ˜ì •")
    public ApiResponse<ExamDetailResponse> updateExam(
            @PathVariable Long id,
            @Valid @RequestBody ExamUpdateRequest request) {
        
        ExamDetailResponse exam = examService.updateExam(id, request);
        return ApiResponse.success("ì‹œí—˜ ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤", exam);
    }
    
    /**
     * ì‹œí—˜ ì‚­ì œ - 204 No Content
     */
    @DeleteMapping("/{id}")
    @ResponseStatus(HttpStatus.NO_CONTENT)
    @Operation(summary = "ì‹œí—˜ ì‚­ì œ")
    public void deleteExam(@PathVariable Long id) {
        examService.deleteExam(id);
        // 204ëŠ” ì‘ë‹µ ë°”ë””ê°€ ì—†ìœ¼ë¯€ë¡œ ApiResponse ì‚¬ìš© ì•ˆí•¨
    }
}
```

## ğŸš¨ ì—ëŸ¬ ì‘ë‹µ ì²˜ë¦¬

### âœ… ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬
```java
/**
 * ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ í•¸ë“¤ëŸ¬
 */
@RestControllerAdvice
@Slf4j
public class GlobalExceptionHandler {
    
    /**
     * ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ˆì™¸ ì²˜ë¦¬ - 400 Bad Request
     */
    @ExceptionHandler(IllegalArgumentException.class)
    @ResponseStatus(HttpStatus.BAD_REQUEST)
    public ApiResponse<Void> handleIllegalArgumentException(IllegalArgumentException e) {
        log.warn("ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ìœ„ë°˜: {}", e.getMessage());
        return ApiResponse.error(e.getMessage());
    }
    
    /**
     * ë¦¬ì†ŒìŠ¤ ì—†ìŒ ì˜ˆì™¸ ì²˜ë¦¬ - 404 Not Found
     */
    @ExceptionHandler({UserNotFoundException.class, ExamNotFoundException.class})
    @ResponseStatus(HttpStatus.NOT_FOUND)
    public ApiResponse<Void> handleNotFoundException(RuntimeException e) {
        log.warn("ë¦¬ì†ŒìŠ¤ ì—†ìŒ: {}", e.getMessage());
        return ApiResponse.error(e.getMessage());
    }
    
    /**
     * ì…ë ¥ ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨ - 400 Bad Request
     */
    @ExceptionHandler(MethodArgumentNotValidException.class)
    @ResponseStatus(HttpStatus.BAD_REQUEST)
    public ApiResponse<Map<String, String>> handleValidationException(MethodArgumentNotValidException e) {
        Map<String, String> errors = new HashMap<>();
        e.getBindingResult().getFieldErrors().forEach(error -> 
            errors.put(error.getField(), error.getDefaultMessage()));
        
        log.warn("ì…ë ¥ ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨: {}", errors);
        return ApiResponse.error("ì…ë ¥ ë°ì´í„° ê²€ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤");
    }
    
    /**
     * ì¤‘ë³µ ë¦¬ì†ŒìŠ¤ ì˜ˆì™¸ ì²˜ë¦¬ - 409 Conflict
     */
    @ExceptionHandler(DuplicateResourceException.class)
    @ResponseStatus(HttpStatus.CONFLICT)
    public ApiResponse<Void> handleDuplicateResourceException(DuplicateResourceException e) {
        log.warn("ì¤‘ë³µ ë¦¬ì†ŒìŠ¤: {}", e.getMessage());
        return ApiResponse.error(e.getMessage());
    }
    
    /**
     * AI ì„œë¹„ìŠ¤ ì˜ˆì™¸ ì²˜ë¦¬ - 502 Bad Gateway
     */
    @ExceptionHandler(AiRecognitionException.class)
    @ResponseStatus(HttpStatus.BAD_GATEWAY)
    public ApiResponse<Void> handleAiRecognitionException(AiRecognitionException e) {
        log.error("AI ì„œë¹„ìŠ¤ ì˜¤ë¥˜: {}", e.getMessage(), e);
        return ApiResponse.error("AI ì¸ì‹ ì„œë¹„ìŠ¤ì— ì¼ì‹œì ì¸ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
    }
    
    /**
     * ì¼ë°˜ì ì¸ ì„œë²„ ì˜¤ë¥˜ - 500 Internal Server Error
     */
    @ExceptionHandler(Exception.class)
    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)
    public ApiResponse<Void> handleGenericException(Exception e) {
        log.error("ì˜ˆìƒì¹˜ ëª»í•œ ì„œë²„ ì˜¤ë¥˜: {}", e.getMessage(), e);
        return ApiResponse.error("ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.");
    }
}
```

## ğŸ“„ í˜ì´ì§• ë° ì •ë ¬

### âœ… í‘œì¤€ í˜ì´ì§• íŒŒë¼ë¯¸í„°
```java
/**
 * í˜ì´ì§• ì§€ì› API ì˜ˆì‹œ
 */
@GetMapping("/questions")
@Operation(summary = "ë¬¸ì œ ëª©ë¡ ì¡°íšŒ", description = "í˜ì´ì§•ê³¼ ì •ë ¬ì„ ì§€ì›í•˜ëŠ” ë¬¸ì œ ëª©ë¡ ì¡°íšŒ")
public ApiResponse<Page<QuestionListResponse>> getQuestions(
        @Parameter(description = "í•™ë…„ í•„í„°", example = "1")
        @RequestParam(required = false) Integer grade,
        
        @Parameter(description = "ë‚œì´ë„ í•„í„°", example = "ì¤‘")
        @RequestParam(required = false) Question.Difficulty difficulty,
        
        @Parameter(description = "ê²€ìƒ‰ í‚¤ì›Œë“œ")
        @RequestParam(required = false) String search,
        
        @Parameter(description = "í˜ì´ì§€ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘)", example = "0")
        @RequestParam(defaultValue = "0") 
        @Min(0) int page,
        
        @Parameter(description = "í˜ì´ì§€ í¬ê¸° (1-100)", example = "20")
        @RequestParam(defaultValue = "20") 
        @Min(1) @Max(100) int size,
        
        @Parameter(description = "ì •ë ¬ í•„ë“œ", example = "createdAt")
        @RequestParam(defaultValue = "id") String sort,
        
        @Parameter(description = "ì •ë ¬ ë°©í–¥", example = "desc")
        @RequestParam(defaultValue = "asc") String direction) {
    
    // ì •ë ¬ ì„¤ì •
    Sort sortOrder = Sort.by(Sort.Direction.fromString(direction), sort);
    Pageable pageable = PageRequest.of(page, size, sortOrder);
    
    // ê²€ìƒ‰ ì¡°ê±´ ì„¤ì •
    QuestionSearchCondition condition = QuestionSearchCondition.builder()
        .grade(grade)
        .difficulty(difficulty)
        .search(search)
        .build();
    
    Page<QuestionListResponse> questions = questionService.searchQuestions(condition, pageable);
    return ApiResponse.success("ë¬¸ì œ ëª©ë¡ì„ ì¡°íšŒí–ˆìŠµë‹ˆë‹¤", questions);
}
```

### âœ… í˜ì´ì§• ì‘ë‹µ ì˜ˆì‹œ
```json
{
  "result": "SUCCESS",
  "message": "ë¬¸ì œ ëª©ë¡ì„ ì¡°íšŒí–ˆìŠµë‹ˆë‹¤",
  "data": {
    "content": [
      {
        "id": 1,
        "questionText": "ë‹¤ìŒ ì—°ë¦½ë¶€ë“±ì‹ì„ í’€ì–´ë³´ì‹œì˜¤",
        "difficulty": "ì¤‘",
        "unitName": "ë¶€ë“±ì‹"
      }
    ],
    "pageable": {
      "sort": {"empty": false, "sorted": true, "unsorted": false},
      "pageNumber": 0,
      "pageSize": 20
    },
    "totalElements": 150,
    "totalPages": 8,
    "last": false,
    "first": true,
    "numberOfElements": 20
  }
}
```

## ğŸ” API ë¬¸ì„œí™” íŒ¨í„´

### âœ… ìƒì„¸í•œ OpenAPI ë¬¸ì„œí™”
```java
/**
 * ì‹œí—˜ ë‹µì•ˆ ê´€ë¦¬ ì»¨íŠ¸ë¡¤ëŸ¬
 */
@RestController
@RequestMapping("/api/exam-answers")
@RequiredArgsConstructor
@Tag(
    name = "ì‹œí—˜ ë‹µì•ˆ API", 
    description = """
        í•™ìƒì˜ ì‹œí—˜ ë‹µì•ˆ ì œì¶œ ë° ê´€ë¦¬ë¥¼ ìœ„í•œ APIì…ë‹ˆë‹¤.
        
        ì£¼ìš” ê¸°ëŠ¥:
        - AI ì´ë¯¸ì§€ ì¸ì‹ì„ í†µí•œ ë‹µì•ˆ ìë™ ì²˜ë¦¬
        - ìˆ˜ë™ ë‹µì•ˆ ìˆ˜ì • ë° ì¬ì±„ì 
        - ë‹µì•ˆì§€ ì „ì²´ ì´¬ì˜ ë° ì¼ê´„ ì²˜ë¦¬
        """
)
public class ExamAnswerController {
    
    private final ExamAnswerService examAnswerService;
    
    /**
     * ë‹µì•ˆ ìƒì„± (AI ì¸ì‹ í¬í•¨)
     */
    @PostMapping
    @ResponseStatus(HttpStatus.CREATED)
    @Operation(
        summary = "ë‹µì•ˆ ìƒì„±",
        description = """
            í•™ìƒì´ ë¬¸ì œì— ëŒ€í•œ ë‹µì•ˆì„ ì œì¶œí•©ë‹ˆë‹¤.
            ì—…ë¡œë“œëœ ì´ë¯¸ì§€ë¥¼ AIê°€ ìë™ìœ¼ë¡œ ì¸ì‹í•˜ì—¬ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜í•˜ê³  ì±„ì ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
            """,
        responses = {
            @ApiResponse(
                responseCode = "201", 
                description = "ë‹µì•ˆ ìƒì„± ì„±ê³µ",
                content = @Content(schema = @Schema(implementation = ExamAnswerResponse.class))
            ),
            @ApiResponse(
                responseCode = "400", 
                description = "ì…ë ¥ ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨",
                content = @Content(schema = @Schema(implementation = ApiResponse.class))
            ),
            @ApiResponse(
                responseCode = "404", 
                description = "ì‹œí—˜ ì œì¶œ ë˜ëŠ” ë¬¸ì œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ",
                content = @Content(schema = @Schema(implementation = ApiResponse.class))
            ),
            @ApiResponse(
                responseCode = "409", 
                description = "ì´ë¯¸ ë‹µì•ˆì´ ì¡´ì¬í•¨",
                content = @Content(schema = @Schema(implementation = ApiResponse.class))
            )
        }
    )
    public ApiResponse<ExamAnswerResponse> createAnswer(
            @Parameter(
                description = "ë‹µì•ˆ ìƒì„± ìš”ì²­ ì •ë³´", 
                required = true,
                content = @Content(schema = @Schema(implementation = ExamAnswerCreateRequest.class))
            )
            @Valid @RequestBody ExamAnswerCreateRequest request) {
        
        ExamAnswerResponse response = examAnswerService.createExamAnswer(request);
        return ApiResponse.success("ë‹µì•ˆì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤", response);
    }
}
```

### âœ… Request/Response DTO ë¬¸ì„œí™”
```java
/**
 * ë‹µì•ˆ ìƒì„± ìš”ì²­ DTO
 */
@Schema(description = "ì‹œí—˜ ë‹µì•ˆ ìƒì„± ìš”ì²­")
public record ExamAnswerCreateRequest(
    @NotNull(message = "ì‹œí—˜ ì œì¶œ IDëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤")
    @Schema(description = "ì‹œí—˜ ì œì¶œ ID", example = "1", requiredMode = Schema.RequiredMode.REQUIRED)
    Long examSubmissionId,
    
    @NotNull(message = "ë¬¸ì œ IDëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤")
    @Schema(description = "ë¬¸ì œ ID", example = "5", requiredMode = Schema.RequiredMode.REQUIRED)
    Long questionId,
    
    @NotBlank(message = "ë‹µì•ˆ ì´ë¯¸ì§€ URLì€ í•„ìˆ˜ì…ë‹ˆë‹¤")
    @URL(message = "ì˜¬ë°”ë¥¸ URL í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤")
    @Schema(description = "ë‹µì•ˆ ì´ë¯¸ì§€ URL", example = "https://example.com/answer-image.jpg", requiredMode = Schema.RequiredMode.REQUIRED)
    String answerImageUrl
) {
    public ExamAnswerCreateRequest {
        Objects.requireNonNull(examSubmissionId, "examSubmissionIdëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤");
        Objects.requireNonNull(questionId, "questionIdëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤");
        Objects.requireNonNull(answerImageUrl, "answerImageUrlëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤");
    }
}

/**
 * ë‹µì•ˆ ì‘ë‹µ DTO
 */
@Schema(description = "ì‹œí—˜ ë‹µì•ˆ ì •ë³´")
public record ExamAnswerResponse(
    @Schema(description = "ë‹µì•ˆ ID", example = "1")
    Long id,
    
    @Schema(description = "ë¬¸ì œ ID", example = "5")
    Long questionId,
    
    @Schema(description = "ë‹µì•ˆ ì´ë¯¸ì§€ URL", example = "https://example.com/answer-image.jpg")
    String answerImageUrl,
    
    @Schema(description = "ì¸ì‹ëœ ë‹µì•ˆ í…ìŠ¤íŠ¸", example = "x = 5")
    String answerText,
    
    @Schema(description = "ì •ë‹µ ì—¬ë¶€", example = "true")
    Boolean isCorrect,
    
    @Schema(description = "íšë“ ì ìˆ˜", example = "5")
    Integer score,
    
    @Schema(description = "ë‹µì•ˆ ìƒì„± ì‹œê°„", example = "2024-08-17T10:30:00")
    LocalDateTime createdAt
) {
    /**
     * Entityì—ì„œ DTOë¡œ ë³€í™˜
     */
    public static ExamAnswerResponse from(ExamAnswer examAnswer) {
        return new ExamAnswerResponse(
            examAnswer.getId(),
            examAnswer.getQuestion().getId(),
            examAnswer.getAnswerImageUrl(),
            examAnswer.getAnswerText(),
            examAnswer.getIsCorrect(),
            examAnswer.getScore(),
            examAnswer.getCreatedAt()
        );
    }
}
```

## ğŸ¯ API ì„¤ê³„ ì²´í¬ë¦¬ìŠ¤íŠ¸

ìƒˆ API ì—”ë“œí¬ì¸íŠ¸ ì‘ì„± ì‹œ:
- [ ] RESTful URL ì„¤ê³„ (ëª…ì‚¬ ì‚¬ìš©, ë™ì‚¬ ê¸ˆì§€)
- [ ] ì ì ˆí•œ HTTP ë©”ì„œë“œ ì‚¬ìš©
- [ ] ApiResponseë¡œ ì‘ë‹µ ë˜í•‘
- [ ] ì ì ˆí•œ HTTP ìƒíƒœ ì½”ë“œ ì„¤ì •
- [ ] @Tag, @Operation ë¬¸ì„œí™” ì™„ë£Œ
- [ ] Request/Response DTOì— @Schema ì¶”ê°€
- [ ] ì…ë ¥ ê²€ì¦ (@Valid, Bean Validation) ì ìš©
- [ ] ì˜ˆì™¸ ìƒí™© ê³ ë ¤ ë° ì²˜ë¦¬
- [ ] í˜ì´ì§• í•„ìš” ì‹œ í‘œì¤€ íŒŒë¼ë¯¸í„° ì‚¬ìš©
- [ ] í•œêµ­ì–´ ë©”ì‹œì§€ ì‚¬ìš©

ì´ëŸ¬í•œ í‘œì¤€ì„ ì¤€ìˆ˜í•˜ì—¬ ì¼ê´€ë˜ê³  ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ APIë¥¼ ì„¤ê³„í•˜ì„¸ìš”.